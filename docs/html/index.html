<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOT_Assignment: Discrete Optimal Transport for Dynamic Decision-Making</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DOT_Assignment
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Discrete Optimal Transport for Dynamic Decision-Making </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Table of Contents</h2>
<ul>
<li><a href="#about-the-project">About the Project</a><ul>
<li><a href="#built-with">Built With</a></li>
</ul>
</li>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#roadmap">Roadmap</a></li>
<li><a href="#license">License</a></li>
<li><a href="#contact">Contact</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>
<h2>About The Project</h2>
<p>This library provides a first-look at the potential that optimal transport has in the areas of task assignment, resource allocation, flight formation, and more by offering a simulation framework from which to test these scenarios. Packaged into this library are examples focused on task assignment, specifically centered around the canonical target assignment problem.</p>
<p>The examples provided generate a scenario where an agent swarm is tasked to rendezvous with a dynamically evolving target swarm of equal size which is attempting to terminate at locations in space. A dynamic decision-maker leverages discrete optimal transport to perform the optimal assignment of agent members to target members. Comparisons are given with a standard nearest-neighbor method.</p>
<p>The following initial formations are availble for the agent, target, and terminal state distributions:</p><ul>
<li>Uniform distribution</li>
<li>Fibonacci sphere</li>
<li>Circle</li>
</ul>
<p>The available agent and target swarm dynamic models availble:</p><ul>
<li>Double Integrator (2D/3D)</li>
<li>Linearized Quadcoptor (2D/3D)</li>
</ul>
<p>The available agent and target swarm controllers:</p><ul>
<li>Linearized Quadratic Tracker</li>
</ul>
<p>Some demonstrations are available in the examples folder.</p>
<h3>Built With</h3>
<ul>
<li><a href="https://github.com/rflamary/POT">POT Python Optimal Transport Library</a></li>
</ul>
<h2>Getting Started</h2>
<p>To get a local copy up and running follow these steps.</p>
<h3>Prerequisites</h3>
<p>DOT_assignment requires the following packages and subsequent dependencies in order to function.</p>
<ul>
<li>Python (&gt;=3.6.7)</li>
<li>Numpy (&gt;=1.15.4)</li>
<li>pandas (&gt;=0.24.2)</li>
<li>Matplotlib (&gt;=3.0.3)</li>
<li>Python Optimal Transport (&gt;=0.5.1) <div class="fragment"><div class="line">pip install POT</div></div><!-- fragment --></li>
<li>pytest (&gt;=5.1.0) <div class="fragment"><div class="line">pip install pytest</div></div><!-- fragment --></li>
</ul>
<h3>Installation</h3>
<p>To download this package from the online git repository (currently not publically available):</p>
<ol type="1">
<li>Clone the repo <div class="fragment"><div class="line">git clone git@bitbucket.org:goroda/targetingmdp.git</div></div><!-- fragment --></li>
</ol>
<h2>Usage</h2>
<h3>Running simulations</h3>
<p>main.py is the primary entry point for tweaking simulation parameters. Simulations are organized together in batches that aim to keep constant initial states operating over different assignment policies. Multiple batches can be grouped together within an ensemble to perform Monte Carlo simulations.</p>
<p>Define number of batches </p><div class="fragment"><div class="line">nbatches = 1</div></div><!-- fragment --><p>Define simulation parameters that are constant across an ensemble of tests </p><div class="fragment"><div class="line">dt = 0.01</div><div class="line">maxtime = 5</div><div class="line">dim = 3</div><div class="line">nagents = 5</div><div class="line">ntargets = 5</div><div class="line">agent_model = &quot;Linearized_Quadcopter&quot;</div><div class="line">target_model = &quot;Linearized_Quadcopter&quot;</div><div class="line">collisions = True</div><div class="line">collision_tol = 1e-2</div><div class="line">agent_control_policy = &quot;LQR&quot;</div><div class="line">target_control_policy = &quot;LQR&quot;</div><div class="line">assignment_epoch = 10</div></div><!-- fragment --><p> NOTE: the number of agents (nagents) and number of targets (ntargets) must be equal in release v0.1.0</p>
<p>Define simulation parameters constant across a batch, such as initial swarm formations </p><div class="fragment"><div class="line"># INITIAL SWARM DISTRIBUTIONS and TERMINAL LOCATION DISTRIBUTION</div><div class="line"># formations: uniform_distribution, circle, fibonacci_sphere</div><div class="line">initial_formation_params = {</div><div class="line">        &#39;nagents&#39;: nagents, </div><div class="line">        &#39;agent_model&#39;: agent_model, </div><div class="line">        &#39;agent_swarm_formation&#39;: &#39;uniform_distribution&#39;,</div><div class="line">        &#39;ntargets&#39;: ntargets, </div><div class="line">        &#39;target_model&#39;: target_model, </div><div class="line">        &#39;target_swarm_formation&#39;: &#39;fibonacci_sphere&#39;,</div><div class="line">        &#39;nstationary_states&#39;: ntargets, </div><div class="line">        &#39;stationary_states_formation&#39;: &#39;circle&#39;</div><div class="line">        }</div></div><!-- fragment --><p>Create simulation profile to be run within a batch </p><div class="fragment"><div class="line">dt = dt</div><div class="line">asst = &#39;AssignmentDyn&#39;</div><div class="line">sim_profile_name = &#39;dyn&#39;</div><div class="line">sim_profiles.update({sim_profile_name: {&#39;agent_model&#39;: agent_model, &#39;target_model&#39;: target_model,</div><div class="line">    &#39;agent_control_policy&#39;: agent_control_policy, &#39;target_control_policy&#39;: target_control_policy,</div><div class="line">    &#39;assignment_policy&#39;: asst, &#39;assignment_epoch&#39;: assignment_epoch, &#39;nagents&#39;: nagents, &#39;ntargets&#39;: ntargets,</div><div class="line">    &#39;collisions&#39;: collisions, &#39;collision_tol&#39;: collision_tol, &#39;dim&#39;: dim, &#39;dt&#39;: dt, &#39;maxtime&#39;: maxtime, &#39;initial_conditions&#39;: initial_conditions}})</div></div><!-- fragment --><p>Run the ensemble of simulations </p><div class="fragment"><div class="line">python -m DOT_assignment</div></div><!-- fragment --><p>NOTE: python commands are run from the root of the directory</p>
<h3>Loading and plotting data</h3>
<p>load_sims.py will load saved test data and plot the results.</p>
<p>NOTE: the dimension of the test and agent and target dynamic models to correctly load the files. This information is readily available in each batch folder within the sim_info.txt.</p>
<p>load_sims.py will load single or all batches within an ensemble folder which is specified. In addition to the raw simulation data and post-processed results, simulation diagnostics are also plotted.</p>
<p>load_sims.py </p><div class="fragment"><div class="line"># SETUP</div><div class="line">#########################################################################</div><div class="line">dim = 3</div><div class="line"></div><div class="line">nagents = 5</div><div class="line">ntargets = 5</div><div class="line"></div><div class="line">agent_model = &#39;Double_Integrator&#39;</div><div class="line">target_model = &#39;Double_Integrator&#39;</div><div class="line">ensemble_name = &#39;ensemble_0_&#39;+str(dim)+&#39;D_&#39;+str(nagents)+&#39;v&#39;+str(ntargets)+&#39;_&#39;+\</div><div class="line">         &#39;identical_&#39;+agent_model+&#39;_LQR_LQR_2019_07_31_14_06_36&#39;</div><div class="line"></div><div class="line">root_directory = &#39;/Users/koray/Documents/GradSchool/research/gorodetsky/draper/devspace/targetingmdp/&#39;</div><div class="line">ensemble_directory = root_directory + ensemble_name</div><div class="line"></div><div class="line">#########################################################################</div></div><!-- fragment --><p>Load and plot simulations </p><div class="fragment"><div class="line">python DOT_assignment/load_sims.py</div></div><!-- fragment --><p>Additional visualizations include:</p><ul>
<li>animate_trajectories.py : loads and plots a 3-dimensional animation of the agent and target swarms evolving over time.</li>
<li>load_ensembles.py : loads and plots histograms using data from all ensembles in a given directory. NOTE: must specify the 'agent'V'target' scenarios of the ensembles being loaded</li>
</ul>
<p>_For more examples, please refer to the Examples page.</p>
<h3>Tests</h3>
<p>In order to run tests:</p>
<div class="fragment"><div class="line">python -m pytest -v tests</div></div><!-- fragment --><h2>Roadmap</h2>
<p>Some immediate areas of improvement include the following additions to the target-assignment scenario:</p><ul>
<li>additional realistic dynamic models</li>
<li>additional controllers<ul>
<li>minimum-time intercept</li>
<li>fuel-optimal orbit injection</li>
</ul>
</li>
<li>additions to the target-assignment scenario, including waves of target swarms (ie. dynamic swarm size over time), stochastic dynamic conditions</li>
<li>heterogeneous swarms</li>
</ul>
<h2>License</h2>
<p>Distributed under the MIT License. See <code>LICENSE</code> for more information.</p>
<p>TBD</p>
<h2>Contact</h2>
<ul>
<li>Koray Kachar - <a href="https://www.linkedin.com/in/koray-kachar/">@linkedin</a> - <a href="#" onclick="location.href='mai'+'lto:'+'kka'+'ch'+'ar@'+'um'+'ich'+'.e'+'du'; return false;">kkach<span style="display: none;">.nosp@m.</span>ar@u<span style="display: none;">.nosp@m.</span>mich.<span style="display: none;">.nosp@m.</span>edu</a></li>
<li>Alex Gorodetsky - <a href="https://www.alexgorodetsky.com">https://www.alexgorodetsky.com</a> - <a href="#" onclick="location.href='mai'+'lto:'+'gor'+'od'+'a@u'+'mi'+'ch.'+'ed'+'u'; return false;">gorod<span style="display: none;">.nosp@m.</span>a@um<span style="display: none;">.nosp@m.</span>ich.e<span style="display: none;">.nosp@m.</span>du</a></li>
</ul>
<h2>Acknowledgements</h2>
<ul>
<li><a href="https://www.draper.com">Draper Laboratory</a></li>
<li><a href="https://github.com/rflamary/POT">POT Python Optimal Transport Library</a></li>
<li><a href="https://aero.engin.umich.edu">University of Michigan</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
